@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base Styles ===== */
:root {
    font-family:
        "Inter",
        system-ui,
        -apple-system,
        sans-serif;
    color-scheme: dark;
}

* {
    box-sizing: border-box;
}

body {
    @apply m-0 min-h-screen overflow-hidden bg-dark-900 text-gray-300 antialiased selection:bg-accent-primary/30;
}

#app {
    @apply w-screen h-screen relative;
    background-image:
        radial-gradient(
            circle at 50% 0%,
            rgba(99, 102, 241, 0.08) 0%,
            transparent 40%
        ),
        radial-gradient(
            circle at 0% 100%,
            rgba(139, 92, 246, 0.05) 0%,
            transparent 40%
        );
}

/* ===== Dashboard Layout ===== */
.dashboard {
    @apply w-full h-full flex items-center justify-center p-8;
}

.hero-section {
    @apply max-w-7xl w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center;
}

.hero-content {
    @apply space-y-8;
}

.hero-title {
    @apply text-6xl font-bold text-white tracking-tight;
    background: linear-gradient(135deg, #ffffff 0%, #94a3b8 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

.hero-subtitle {
    @apply text-xl text-accent-primary font-medium;
}

.hero-description {
    @apply text-gray-400 text-lg leading-relaxed max-w-2xl;
}

.hero-features {
    @apply grid grid-cols-2 gap-4;
}

.feature-item {
    @apply flex items-center space-x-3 p-4 rounded-xl bg-white/5 border border-white/10 backdrop-blur-sm;
}

.feature-icon {
    @apply text-2xl;
}

.hero-actions {
    @apply flex flex-col sm:flex-row gap-4;
}

.hero-visual {
    @apply flex items-center justify-center;
}

.sample-preview {
    @apply relative w-80 h-80 rounded-3xl bg-gradient-to-br from-dark-800 to-dark-900 border border-white/10 shadow-2xl overflow-hidden;
    perspective: 1000px;
}

.preview-cube,
.preview-pyramid,
.preview-sphere {
    @apply absolute;
    transform-style: preserve-3d;
    animation: float 6s ease-in-out infinite;
}

.preview-cube {
    @apply w-16 h-16 bg-gradient-to-br from-accent-primary to-accent-secondary rounded-lg;
    top: 20%;
    left: 20%;
    animation-delay: 0s;
}

.preview-pyramid {
    @apply w-12 h-12 bg-gradient-to-br from-green-400 to-green-600;
    top: 50%;
    right: 25%;
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
    animation-delay: 2s;
}

.preview-sphere {
    @apply w-20 h-20 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full;
    bottom: 20%;
    left: 40%;
    animation-delay: 4s;
}

@keyframes float {
    0%,
    100% {
        transform: translateY(0px) rotateY(0deg);
    }
    50% {
        transform: translateY(-20px) rotateY(180deg);
    }
}

/* ===== Workspace Layout ===== */
.workspace {
    @apply w-full h-screen grid grid-cols-[350px_1fr] overflow-hidden;
}

@media (max-width: 1024px) {
    .workspace {
        @apply grid-cols-[300px_1fr];
    }
}

@media (max-width: 768px) {
    .workspace {
        @apply grid-cols-1 grid-rows-[auto_1fr];
    }
}

/* ===== Sidebar ===== */
.sidebar {
    @apply bg-dark-800/60 border-r border-white/5 backdrop-blur-xl overflow-y-auto;
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
}

.sidebar-header {
    @apply flex items-center justify-between p-6 border-b border-white/5 sticky top-0 bg-dark-800/80 backdrop-blur-xl z-10;
}

.sidebar-title {
    @apply text-xl font-bold text-white tracking-tight;
    background: linear-gradient(135deg, #ffffff 0%, #94a3b8 100%);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* ===== Sidebar Sections ===== */
.sidebar-section {
    @apply border-b border-white/5;
}

.section-header {
    @apply flex items-center justify-between p-4 cursor-pointer hover:bg-white/5 transition-colors;
}

.section-title {
    @apply text-sm font-semibold text-gray-300 uppercase tracking-wider;
}

.section-toggle {
    @apply text-gray-500 text-sm transform transition-transform;
}

.section-content {
    @apply p-4 space-y-4 overflow-hidden transition-all duration-300;
    max-height: 0;
    opacity: 0;
}

.section-content.expanded {
    max-height: 2000px;
    opacity: 1;
}

/* ===== Main Content ===== */
.main-content {
    @apply relative flex flex-col w-full h-full;
}

.viewer {
    @apply flex-1 relative bg-black/20 overflow-hidden w-full h-full min-h-0;
}

#viewerCanvas {
    @apply w-full h-full block outline-none;
    touch-action: none;
}

.viewer-overlay {
    @apply absolute top-4 left-4 right-4 flex justify-between items-start pointer-events-none z-10;
}

.viewer-info {
    @apply flex flex-col gap-2;
}

.viewer-info span {
    @apply px-3 py-1 bg-dark-900/80 text-sm text-gray-300 rounded-lg border border-white/10 backdrop-blur-sm;
}

/* ===== Components ===== */

/* Buttons */
.btn {
    @apply px-4 py-2.5 rounded-lg text-sm font-semibold transition-all duration-200 flex items-center justify-center gap-2 cursor-pointer active:scale-95 border select-none;
}

.btn-primary {
    @apply bg-gradient-to-r from-accent-primary to-accent-secondary text-white border-transparent shadow-lg shadow-accent-primary/20;
}
.btn-primary:hover {
    @apply shadow-accent-primary/40 brightness-110;
}

.btn-danger {
    @apply bg-red-500/10 text-red-400 border-red-500/20 hover:bg-red-500/20 hover:border-red-500/30;
}

.btn-ghost {
    @apply bg-dark-700 text-gray-300 border-white/5 hover:bg-dark-600 hover:text-white hover:border-white/10;
}

.btn-icon {
    @apply w-9 h-9 p-0 text-sm rounded-full;
}

.btn-full {
    @apply w-full;
}

.btn-large {
    @apply px-8 py-4 text-lg font-semibold;
}

/* Drag & Drop Zone */
.drag-drop-zone {
    @apply border-2 border-dashed border-white/20 rounded-xl p-8 text-center cursor-pointer hover:border-accent-primary/50 hover:bg-white/5 transition-colors;
}

.drag-drop-text {
    @apply block text-gray-300 font-medium mb-1;
}

.drag-drop-subtext {
    @apply text-sm text-gray-500;
}

/* Recent Files */
.recent-files-list {
    @apply space-y-2 max-h-48 overflow-y-auto;
}

.recent-file-item {
    @apply p-3 rounded-lg bg-dark-900/30 border border-white/5 hover:bg-white/5 transition-colors cursor-pointer;
}

.recent-file-name {
    @apply text-sm font-medium text-gray-200 truncate;
}

.recent-file-meta {
    @apply text-xs text-gray-500 mt-1;
}

/* Object List */
.object-list {
    @apply space-y-1 max-h-48 overflow-y-auto;
}

.object-list-item {
    @apply px-3 py-2.5 rounded-lg cursor-pointer text-sm text-gray-400 bg-dark-900/30 border border-transparent transition-all flex items-center gap-3 hover:bg-white/5 hover:text-gray-200;
}

.object-list-item.selected {
    @apply bg-accent-primary/10 border-accent-primary/20 text-white shadow-sm;
}

.object-list-item.selected::before {
    @apply bg-accent-primary shadow-[0_0_8px_rgba(99,102,241,0.6)];
}

.object-list-item::before {
    content: "";
    @apply w-2 h-2 rounded-full bg-gray-700 transition-all;
}

/* Stats Grid */
.stats-grid {
    @apply grid grid-cols-2 gap-2 mb-4;
}

.stats-grid > div {
    @apply bg-dark-900/50 rounded-lg p-3 border border-white/5 text-center flex flex-col gap-1;
}

.stats-grid-item-label {
    @apply text-xs uppercase text-gray-500 font-semibold tracking-wider;
}

.stats-grid-item-value {
    @apply text-sm font-mono text-accent-secondary font-medium;
}

/* Form Controls */
.field-row {
    @apply flex items-center justify-between gap-3;
}

.field-label {
    @apply text-xs font-medium text-gray-400 uppercase tracking-wide min-w-[40px];
}

.select {
    @apply w-full bg-dark-900/50 border border-white/10 text-gray-200 text-sm rounded-lg px-3 py-2.5 outline-none focus:border-accent-primary/50 focus:ring-1 focus:ring-accent-primary/50 transition-all appearance-none cursor-pointer;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='gray' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7' /%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    background-size: 16px;
}

input[type="file"] {
    @apply block w-full text-sm text-gray-400
        file:mr-4 file:py-2 file:px-4
        file:rounded-lg file:border-0
        file:text-sm file:font-semibold
        file:bg-accent-primary file:text-white
        hover:file:brightness-110
        file:cursor-pointer cursor-pointer;
}

/* Color Input */
.color-input {
    @apply h-8 w-full rounded-lg border border-white/10 bg-dark-900 cursor-pointer p-1;
}
::-webkit-color-swatch-wrapper {
    padding: 0;
}
::-webkit-color-swatch {
    border: none;
    border-radius: 4px;
}

/* Sliders */
.slider {
    @apply w-full h-1.5 bg-dark-900 rounded-full appearance-none cursor-pointer accent-accent-primary;
}
.slider::-webkit-slider-thumb {
    @apply appearance-none w-4 h-4 rounded-full bg-white shadow-lg shadow-black/50 cursor-grab border-2 border-accent-primary transition-transform;
    margin-top: -5px;
}
.slider::-webkit-slider-thumb:hover {
    @apply scale-110;
}
.slider::-webkit-slider-runnable-track {
    @apply h-1.5 rounded-full bg-dark-900 border border-white/5;
}

/* Control Buttons */
.control-buttons {
    @apply space-y-3;
}

.control-info {
    @apply space-y-2 mb-4;
}

.control-item {
    @apply flex justify-between items-center text-sm;
}

.control-key {
    @apply px-2 py-1 bg-dark-900/50 rounded text-xs font-mono text-gray-300;
}

.control-desc {
    @apply text-gray-500;
}

.orientation-controls {
    @apply space-y-2;
}

.orientation-row {
    @apply flex justify-center gap-1;
}

/* Transform Tools */
.transform-tools {
    @apply flex justify-center gap-2;
}

.transform-tools .btn-icon {
    @apply w-10 h-10 text-lg;
}

/* Empty States */
.empty-state {
    @apply text-center text-gray-500 text-sm py-4 italic;
}

/* Drag Overlay */
.drag-overlay {
    @apply absolute inset-0 bg-accent-primary/20 border-2 border-dashed border-accent-primary rounded-3xl flex items-center justify-center backdrop-blur-sm z-50;
    transition: all 0.3s ease;
}

.drag-overlay.active {
    @apply bg-accent-primary/30 border-accent-primary scale-105;
}

.drag-overlay-content {
    @apply text-center text-white;
}

.drag-overlay-icon {
    @apply text-4xl mb-2 text-accent-primary;
}

.drag-overlay-text {
    @apply text-lg font-semibold mb-1;
}

.drag-overlay-subtext {
    @apply text-sm text-gray-300;
}

/* Loading */
.loading-indicator {
    @apply flex items-center justify-center gap-3 py-4 text-sm text-gray-400;
}

.loading-spinner {
    @apply inline-block w-4 h-4 border-2 border-gray-600 border-t-accent-primary rounded-full animate-spin;
}

/* Notifications */
.notification {
    @apply fixed top-4 right-4 px-4 py-3 rounded-lg text-sm font-medium z-50 transform translate-x-full opacity-0 transition-all duration-300 ease-out max-w-sm;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
}

.notification.show {
    @apply translate-x-0 opacity-100;
}

.notification-success {
    @apply bg-green-500/10 text-green-400 border border-green-500/20 backdrop-blur-md;
}

.notification-error {
    @apply bg-red-500/10 text-red-400 border border-red-500/20 backdrop-blur-md;
}

.notification-warning {
    @apply bg-yellow-500/10 text-yellow-400 border border-yellow-500/20 backdrop-blur-md;
}

.notification-info {
    @apply bg-blue-500/10 text-blue-400 border border-blue-500/20 backdrop-blur-md;
}

/* Custom Scrollbars */
::-webkit-scrollbar {
    @apply w-1.5;
}

::-webkit-scrollbar-track {
    @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
    @apply bg-white/10 rounded-full hover:bg-white/20;
}

/* Mobile Responsive */
@media (max-width: 768px) {
    .hero-section {
        @apply grid-cols-1 text-center gap-8;
    }

    .hero-title {
        @apply text-4xl;
    }

    .hero-features {
        @apply grid-cols-1;
    }

    .hero-actions {
        @apply flex-col;
    }

    .workspace {
        @apply grid-cols-1 grid-rows-[auto_1fr];
    }

    .sidebar {
        @apply max-h-[35vh] border-r-0 border-b border-white/5;
    }

    .main-content {
        @apply min-h-0 flex-1;
    }

    .viewer {
        @apply min-h-[400px];
    }

    .stats-grid {
        @apply grid-cols-1;
    }

    .field-row {
        @apply flex-col items-start gap-2;
    }

    .btn {
        @apply min-h-12 text-sm;
    }

    .btn-icon {
        @apply min-h-12 min-w-12 text-lg;
    }

    .notification {
        @apply top-2 right-2 left-2 max-w-none translate-x-0 translate-y-[-100%];
    }

    .notification.show {
        @apply translate-y-0;
    }

    .orientation-controls {
        @apply scale-90;
    }
}

/* Touch Improvements */
@media (hover: none) and (pointer: coarse) {
    .btn:hover,
    .object-list-item:hover,
    .section-header:hover {
        @apply bg-current;
    }

    .btn,
    .object-list-item,
    .section-header {
        @apply min-h-12;
    }
}

/* Dark theme color definitions */
@layer base {
    :root {
        --color-dark-900: #0f172a;
        --color-dark-800: #1e293b;
        --color-dark-700: #334155;
        --color-accent-primary: #6366f1;
        --color-accent-secondary: #8b5cf6;
    }
}

/* Utility classes for dark colors */
.bg-dark-900 {
    background-color: var(--color-dark-900);
}
.bg-dark-800 {
    background-color: var(--color-dark-800);
}
.bg-dark-700 {
    background-color: var(--color-dark-700);
}
.text-accent-primary {
    color: var(--color-accent-primary);
}
.text-accent-secondary {
    color: var(--color-accent-secondary);
}
.border-accent-primary {
    border-color: var(--color-accent-primary);
}
.from-accent-primary {
    --tw-gradient-from: var(--color-accent-primary);
}
.to-accent-secondary {
    --tw-gradient-to: var(--color-accent-secondary);
}
